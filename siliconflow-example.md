# ç¡…åŸºæµåŠ¨ä½™é¢æŸ¥è¯¢åŠŸèƒ½

## åŠŸèƒ½æ¦‚è¿°

å·²ä¸ºç¡…åŸºæµåŠ¨(SiliconFlow)é€‚é…ä¸“ç”¨çš„ä½™é¢æŸ¥è¯¢åŠŸèƒ½ï¼Œæ”¯æŒè·å–ç”¨æˆ·è´¦æˆ·ä¿¡æ¯å’Œä½™é¢æ•°æ®ã€‚

## API ç«¯ç‚¹

```
GET https://api.siliconflow.cn/v1/user/info
Authorization: Bearer {apiKey}
Content-Type: application/json
```

## è¿”å›æ•°æ®ç»“æ„

```json
{
  "code": 20000,
  "message": "OK",
  "status": true,
  "data": {
    "id": "userid",
    "name": "username",
    "image": "user_avatar_image_url",
    "email": "user_email_address",
    "isAdmin": false,
    "balance": "0.88",
    "status": "normal",
    "introduction": "user_introduction",
    "role": "user_role",
    "chargeBalance": "88.00",
    "totalBalance": "88.88"
  }
}
```

## æŠ€æœ¯å®ç°

### 1. éªŒè¯æ–¹æ³•

åˆ›å»ºäº†ä¸“ç”¨çš„ `validateSiliconFlow` æ–¹æ³•ï¼š

```typescript
private static async validateSiliconFlow(
  apiKey: string, 
  format: RequestFormat, 
  checkBalance: boolean
): Promise<ApiKeyValidationResult>
```

### 2. éªŒè¯æµç¨‹

1. **æ¨¡å‹åˆ—è¡¨éªŒè¯**: é¦–å…ˆè°ƒç”¨ `/v1/models` ç«¯ç‚¹éªŒè¯API Keyæœ‰æ•ˆæ€§
2. **ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢**: å¦‚æœå¯ç”¨ä½™é¢æŸ¥è¯¢ï¼Œè°ƒç”¨ `/v1/user/info` è·å–è´¦æˆ·ä¿¡æ¯
3. **å“åº”çŠ¶æ€æ£€æŸ¥**: éªŒè¯ `code === 20000` å’Œ `status === true`
4. **æ•°æ®æå–**: ä» `data` å­—æ®µä¸­æå–ä½™é¢å’Œç”¨æˆ·ä¿¡æ¯
5. **ç»“æœè¿”å›**: è¿”å›åŒ…å«æ¨¡å‹åˆ—è¡¨ã€ä½™é¢å’Œè´¦æˆ·ä¿¡æ¯çš„å®Œæ•´ç»“æœ

### 3. ä½™é¢å­—æ®µæ”¯æŒ

ç¡…åŸºæµåŠ¨æä¾›ä¸‰ç§ä½™é¢å­—æ®µï¼ˆä¼˜å…ˆçº§é€’å‡ï¼‰ï¼š
- `totalBalance` - æ€»ä½™é¢ï¼ˆæ¨èä½¿ç”¨ï¼‰
- `balance` - å¯ç”¨ä½™é¢
- `chargeBalance` - å……å€¼ä½™é¢

### 4. ç”¨æˆ·ä¿¡æ¯å­—æ®µ

æå–å¹¶æ ¼å¼åŒ–ä»¥ä¸‹ç”¨æˆ·ä¿¡æ¯ï¼š
- ç”¨æˆ·ID (`id`)
- ç”¨æˆ·å (`name`)
- é‚®ç®± (`email`)
- ç®¡ç†å‘˜çŠ¶æ€ (`isAdmin`)
- è´¦æˆ·çŠ¶æ€ (`status`)
- ç”¨æˆ·è§’è‰² (`role`)
- ä¸ªäººç®€ä»‹ (`introduction`)
- å¤´åƒURL (`image`)

## UI æ˜¾ç¤º

### ä½™é¢æ˜¾ç¤º
- ç»¿è‰²çªå‡ºå¡ç‰‡æ˜¾ç¤º
- æ ¼å¼åŒ–ä¸ºç¾å…ƒé‡‘é¢ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰
- å›¾æ ‡ï¼šğŸ’° Database å›¾æ ‡

### è´¦æˆ·ä¿¡æ¯æ˜¾ç¤º
- è“è‰²ä¿¡æ¯å¡ç‰‡
- åŒ…å«ç”¨æˆ·IDã€ç”¨æˆ·åã€é‚®ç®±ã€è§’è‰²ã€çŠ¶æ€ã€ç®¡ç†å‘˜æƒé™ç­‰ä¿¡æ¯
- è¯¦ç»†çš„ä½™é¢æ˜ç»†ï¼ˆæ€»ä½™é¢ã€å¯ç”¨ä½™é¢ã€å……å€¼ä½™é¢ï¼‰
- ä»…åœ¨ç¡…åŸºæµåŠ¨æœåŠ¡å•†æ—¶æ˜¾ç¤º

## ä½¿ç”¨æ–¹æ³•

1. é€‰æ‹©"ç¡…åŸºæµåŠ¨"ä½œä¸ºæœåŠ¡å•†
2. è¾“å…¥æœ‰æ•ˆçš„API Key
3. å±•å¼€"é«˜çº§è®¾ç½®"
4. å¼€å¯"æŸ¥è¯¢è´¦æˆ·ä½™é¢"å¼€å…³
5. ç‚¹å‡»"å¼€å§‹æ£€æµ‹"
6. æŸ¥çœ‹ç»“æœä¸­çš„ä½™é¢å’Œè¯¦ç»†è´¦æˆ·ä¿¡æ¯

## é”™è¯¯å¤„ç†

- æ£€æŸ¥APIå“åº”çš„ `code` å’Œ `status` å­—æ®µ
- ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢å¤±è´¥ä¸å½±å“ä¸»è¦éªŒè¯
- æä¾›æ§åˆ¶å°è­¦å‘Šæ—¥å¿—
- ä¼˜é›…é™çº§ï¼Œä»…å½±å“ä½™é¢æ˜¾ç¤ºéƒ¨åˆ†

## æ‰©å±•æ€§

ä»£ç ç»“æ„æ”¯æŒè½»æ¾æ·»åŠ å…¶ä»–ç¡…åŸºæµåŠ¨ç‰¹æœ‰çš„åŠŸèƒ½ï¼š
- ç”¨æˆ·å¤´åƒæ˜¾ç¤º
- ä¸ªäººç®€ä»‹ä¿¡æ¯
- ç®¡ç†å‘˜æƒé™æ ‡è¯†
- æ›´è¯¦ç»†çš„ä½™é¢åˆ†æ

## ç¤ºä¾‹å“åº”

### æˆåŠŸå“åº”
```json
{
  "isValid": true,
  "provider": "siliconflow",
  "status": "valid",
  "message": "API KeyéªŒè¯æˆåŠŸ",
  "details": {
    "models": ["deepseek-chat", "qwen-72b-chat", "llama-3-8b-instruct"],
    "balance": 88.88,
    "accountInfo": {
      "userId": "userid",
      "username": "username",
      "email": "user@example.com",
      "isAdmin": false,
      "status": "normal",
      "role": "user_role",
      "introduction": "user_introduction",
      "avatar": "user_avatar_image_url",
      "balanceDetails": {
        "balance": "0.88",
        "chargeBalance": "88.00",
        "totalBalance": "88.88"
      },
      "rawUserInfo": { /* å®Œæ•´åŸå§‹å“åº”çš„dataå­—æ®µ */ }
    }
  }
}
```

## æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚**: API Keyéœ€è¦æœ‰æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„æƒé™
2. **ç½‘ç»œè¦æ±‚**: éœ€è¦èƒ½å¤Ÿè®¿é—® `api.siliconflow.cn` åŸŸå
3. **é”™è¯¯å¤„ç†**: æŸ¥è¯¢å¤±è´¥æ—¶ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè­¦å‘Šä¿¡æ¯
4. **æ•°æ®æ ¼å¼**: ä½™é¢è‡ªåŠ¨è½¬æ¢ä¸ºæ•°å­—æ ¼å¼è¿›è¡Œè®¡ç®—å’Œæ˜¾ç¤º 